fitdist <- function(y, w) {
  
  # Weighted negative log-likelihood of two-parameter distribution with density dens.
  wnll <- function(par, y, w, dens) {
    - sum(w * dens(y, par[1], par[2], log = TRUE))
  }
 
  # Fit log-normal distribution.
  fit <- optim(c(0, 1), function(par) wnll(par, dens = dlnorm, y = y, w = w))
  
  return(fit)
  
}
